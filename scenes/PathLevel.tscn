[gd_scene load_steps=11 format=2]

[ext_resource path="res://scripts/Level.gd" type="Script" id=1]
[ext_resource path="res://scenes/Portal.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/Player.tscn" type="PackedScene" id=3]
[ext_resource path="res://scripts/RayPlanet.gd" type="Script" id=4]
[ext_resource path="res://scripts/GravitySurface.gd" type="Script" id=5]
[ext_resource path="res://meshes/PathGravitySurface.mesh" type="ArrayMesh" id=6]
[ext_resource path="res://meshes/PathPlanet.mesh" type="ArrayMesh" id=7]
[ext_resource path="res://materials/metalgrid2.material" type="Material" id=8]

[sub_resource type="ConcavePolygonShape" id=1]
data = PoolVector3Array( 5, 2.13, 4.7782, -5, 2.13, 4.7782, -5, 0.8534, -5.1509, 5, 0.8534, -5.1509, -5, 0.8534, -5.1509, -5, -0.4063, -15.0278, 5, -0.4063, -15.0278, -5, -0.4063, -15.0278, -5, -0.9614, -24.9408, 5, -0.9614, -24.9408, -5, -0.9614, -24.9408, -5, -0.5335, -34.5485, -5, -0.5335, -34.5485, -5, 1.1049, -44.3705, 5, 1.1048, -44.3698, 5, 1.1048, -44.3698, -5, 1.1049, -44.3705, -4.9966, 4.1107, -53.6933, -4.9966, 4.1107, -53.6933, -4.8874, 8.1563, -62.4486, 5.1088, 8.0344, -62.2006, -4.8874, 8.1563, -62.4486, -4.6121, 13.762, -70.7164, 5.3812, 13.5881, -70.3943, 5.3812, 13.5881, -70.3943, -4.6121, 13.762, -70.7164, -3.8597, 20.7921, -77.7153, -3.8597, 20.7921, -77.7153, -2.7026, 28.7562, -83.3327, 7.1472, 27.5033, -82.1448, -2.7026, 28.7562, -83.3327, -1.0649, 37.8156, -87.3251, 8.7596, 36.4272, -86.0795, 8.7596, 36.4272, -86.0795, -1.0649, 37.8156, -87.3251, 1.361, 47.4004, -89.7557, 1.361, 47.4004, -89.7557, 4.1944, 57.1268, -91.3063, 13.4715, 53.7678, -89.6777, 13.4715, 53.7678, -89.6777, 4.1944, 57.1268, -91.3063, 7.5862, 66.5337, -91.2242, 16.8632, 63.1745, -89.5956, 7.5862, 66.5337, -91.2242, 11.8237, 76.0525, -90.222, 11.8237, 76.0525, -90.222, 16.3267, 85.0355, -88.6869, 24.8309, 79.9717, -87.2594, 24.8309, 79.9717, -87.2594, 16.3267, 85.0355, -88.6869, 21.4278, 93.3494, -85.776, 21.4278, 93.3494, -85.776, 27.1661, 101.473, -82.3374, 34.6915, 94.9445, -81.4745, 27.1661, 101.473, -82.3374, 33.9924, 109.276, -78.2395, 39.8995, 101.207, -78.2895, 39.8995, 101.207, -78.2895, 33.9924, 109.276, -78.2395, 42.0408, 114.326, -74.1942, 47.4338, 105.911, -74.5071, 42.0408, 114.326, -74.1942, 50.999, 118.48, -69.997, 50.999, 118.48, -69.997, 60.2921, 121.606, -65.7391, 63.075, 112.124, -67.2737, 60.2921, 121.606, -65.7391, 69.2054, 123.56, -61.6488, 71.9672, 114.073, -63.1932, 71.9672, 114.073, -63.1932, 69.2054, 123.56, -61.6488, 77.5265, 124.633, -56.2647, 77.5265, 124.633, -56.2647, 85.5735, 125.431, -50.5248, 87.64, 115.852, -52.5166, 87.64, 115.852, -52.5166, 85.5735, 125.431, -50.5248, 92.6372, 125.382, -43.4897, 92.6372, 125.382, -43.4897, 99.8671, 125.092, -36.0765, 101.112, 115.594, -38.9471, 101.112, 115.594, -38.9471, 99.8671, 125.092, -36.0765, 106.167, 123.336, -28.3979, 106.167, 123.336, -28.3979, 112.507, 121.534, -20.6609, 113.369, 112.146, -23.9947, 113.369, 112.146, -23.9947, 112.507, 121.534, -20.6609, 118.804, 118.845, -13.0206, 118.804, 118.845, -13.0206, 124.961, 116.154, -5.5528, 125.419, 106.925, -9.3768, 125.419, 106.925, -9.3768, 124.961, 116.154, -5.5528, 131.417, 112.652, 1.8419, 131.417, 112.652, 1.8419, 137.641, 109.137, 8.8809, 137.555, 100.187, 4.4221, 137.555, 100.187, 4.4221, 137.641, 109.137, 8.8809, 144.372, 105.345, 15.639, 144.038, 96.534, 10.9216, 144.372, 105.345, 15.639, 150.993, 101.648, 22.1027, 150.993, 101.648, 22.1027, 158.384, 98.6969, 28.092, 158.397, 89.7221, 23.6816, 158.384, 98.6969, 28.092, 166.249, 95.6837, 34.0839, 166, 86.8052, 29.4895, 166, 86.8052, 29.4895, 166.249, 95.6837, 34.0839, 174.47, 92.8668, 39.0564, 174.47, 92.8668, 39.0564, 184.471, 88.6701, 43.2615, 181.677, 80.8802, 37.6478, 184.471, 88.6701, 43.2615, 194.005, 83.7477, 45.1276, 189.843, 76.7301, 39.3458, 189.843, 76.7301, 39.3458, 194.005, 83.7477, 45.1276, 202.734, 76.5915, 42.8179, 196.369, 71.1827, 37.3198, 202.734, 76.5915, 42.8179, 208.71, 67.5019, 36.15, 208.71, 67.5019, 36.15, 210.201, 59.0926, 27.15, 200.406, 60.9521, 27.9255, 210.201, 59.0926, 27.15, 208.48, 53.3752, 19.1279, 198.686, 55.2347, 19.9035, 198.686, 55.2347, 19.9035, 208.48, 53.3752, 19.1279, 202.989, 48.0105, 9.6546, 202.989, 48.0105, 9.6546, 196.127, 44.3648, 1.5507, 189.623, 49.0315, 7.5442, 196.127, 44.3648, 1.5507, 188.149, 42.5024, -5.2906, 182.612, 47.3496, 1.4802, 182.612, 47.3496, 1.4802, 188.149, 42.5024, -5.2906, 179.12, 42.2853, -10.8708, 174.538, 47.1967, -3.4625, 179.12, 42.2853, -10.8708, 169.558, 42.9168, -15.7132, 166.219, 47.777, -7.6365, 169.558, 42.9168, -15.7132, 160.542, 43.772, -19.9544, 160.542, 43.772, -19.9544, 151.511, 44.6288, -24.2033, 148.172, 49.489, -16.1266, 151.511, 44.6288, -24.2033, 142.476, 45.4858, -28.4536, 139.138, 50.346, -20.3769, 142.476, 45.4858, -28.4536, 133.441, 46.3429, -32.7039, 130.103, 51.2031, -24.6273, 5, 2.13, 4.7782, -5, 0.8534, -5.1509, 5, 0.8534, -5.1509, 5, 0.8534, -5.1509, -5, -0.4063, -15.0278, 5, -0.4063, -15.0278, 5, -0.4063, -15.0278, -5, -0.9614, -24.9408, 5, -0.9614, -24.9408, 5, -0.9614, -24.9408, -5, -0.5335, -34.5485, 5, -0.5335, -34.5485, -5, -0.5335, -34.5485, 5, 1.1048, -44.3698, 5, -0.5335, -34.5485, 5, 1.1048, -44.3698, -4.9966, 4.1107, -53.6933, 5.0034, 4.1098, -53.6896, -4.9966, 4.1107, -53.6933, 5.1088, 8.0344, -62.2006, 5.0034, 4.1098, -53.6896, -4.8874, 8.1563, -62.4486, 5.3812, 13.5881, -70.3943, 5.1088, 8.0344, -62.2006, 5.3812, 13.5881, -70.3943, -3.8597, 20.7921, -77.7153, 6.1071, 20.32, -77.0517, -3.8597, 20.7921, -77.7153, 7.1472, 27.5033, -82.1448, 6.1071, 20.32, -77.0517, -2.7026, 28.7562, -83.3327, 8.7596, 36.4272, -86.0795, 7.1472, 27.5033, -82.1448, 8.7596, 36.4272, -86.0795, 1.361, 47.4004, -89.7557, 11.004, 45.2167, -88.2574, 1.361, 47.4004, -89.7557, 13.4715, 53.7678, -89.6777, 11.004, 45.2167, -88.2574, 13.4715, 53.7678, -89.6777, 7.5862, 66.5337, -91.2242, 16.8632, 63.1745, -89.5956, 16.8632, 63.1745, -89.5956, 11.8237, 76.0525, -90.222, 20.5685, 71.4472, -88.6989, 11.8237, 76.0525, -90.222, 24.8309, 79.9717, -87.2594, 20.5685, 71.4472, -88.6989, 24.8309, 79.9717, -87.2594, 21.4278, 93.3494, -85.776, 29.6504, 87.8044, -84.4951, 21.4278, 93.3494, -85.776, 34.6915, 94.9445, -81.4745, 29.6504, 87.8044, -84.4951, 27.1661, 101.473, -82.3374, 39.8995, 101.207, -78.2895, 34.6915, 94.9445, -81.4745, 39.8995, 101.207, -78.2895, 42.0408, 114.326, -74.1942, 47.4338, 105.911, -74.5071, 47.4338, 105.911, -74.5071, 50.999, 118.48, -69.997, 55.1462, 109.426, -70.9064, 50.999, 118.48, -69.997, 63.075, 112.124, -67.2737, 55.1462, 109.426, -70.9064, 60.2921, 121.606, -65.7391, 71.9672, 114.073, -63.1932, 63.075, 112.124, -67.2737, 71.9672, 114.073, -63.1932, 77.5265, 124.633, -56.2647, 79.8087, 115.068, -58.0854, 77.5265, 124.633, -56.2647, 87.64, 115.852, -52.5166, 79.8087, 115.068, -58.0854, 87.64, 115.852, -52.5166, 92.6372, 125.382, -43.4897, 94.6245, 115.802, -45.5568, 92.6372, 125.382, -43.4897, 101.112, 115.594, -38.9471, 94.6245, 115.802, -45.5568, 101.112, 115.594, -38.9471, 106.167, 123.336, -28.3979, 107.251, 113.878, -31.4612, 106.167, 123.336, -28.3979, 113.369, 112.146, -23.9947, 107.251, 113.878, -31.4612, 113.369, 112.146, -23.9947, 118.804, 118.845, -13.0206, 119.318, 109.592, -16.7779, 118.804, 118.845, -13.0206, 125.419, 106.925, -9.3768, 119.318, 109.592, -16.7779, 125.419, 106.925, -9.3768, 131.417, 112.652, 1.8419, 131.36, 103.686, -2.5845, 131.417, 112.652, 1.8419, 137.555, 100.187, 4.4221, 131.36, 103.686, -2.5845, 137.555, 100.187, 4.4221, 144.372, 105.345, 15.639, 144.038, 96.534, 10.9216, 144.038, 96.534, 10.9216, 150.993, 101.648, 22.1027, 150.819, 92.754, 17.5345, 150.993, 101.648, 22.1027, 158.397, 89.7221, 23.6816, 150.819, 92.754, 17.5345, 158.384, 98.6969, 28.092, 166, 86.8052, 29.4895, 158.397, 89.7221, 23.6816, 166, 86.8052, 29.4895, 174.47, 92.8668, 39.0564, 174.211, 83.9915, 34.4563, 174.47, 92.8668, 39.0564, 181.677, 80.8802, 37.6478, 174.211, 83.9915, 34.4563, 184.471, 88.6701, 43.2615, 189.843, 76.7301, 39.3458, 181.677, 80.8802, 37.6478, 189.843, 76.7301, 39.3458, 202.734, 76.5915, 42.8179, 196.369, 71.1827, 37.3198, 196.369, 71.1827, 37.3198, 208.71, 67.5019, 36.15, 199.245, 66.0884, 33.2486, 208.71, 67.5019, 36.15, 200.406, 60.9521, 27.9255, 199.245, 66.0884, 33.2486, 210.201, 59.0926, 27.15, 198.686, 55.2347, 19.9035, 200.406, 60.9521, 27.9255, 198.686, 55.2347, 19.9035, 202.989, 48.0105, 9.6546, 194.953, 52.0424, 14.0332, 202.989, 48.0105, 9.6546, 189.623, 49.0315, 7.5442, 194.953, 52.0424, 14.0332, 196.127, 44.3648, 1.5507, 182.612, 47.3496, 1.4802, 189.623, 49.0315, 7.5442, 182.612, 47.3496, 1.4802, 179.12, 42.2853, -10.8708, 174.538, 47.1967, -3.4625, 174.538, 47.1967, -3.4625, 169.558, 42.9168, -15.7132, 166.219, 47.777, -7.6365, 166.219, 47.777, -7.6365, 160.542, 43.772, -19.9544, 157.204, 48.6322, -11.8778, 160.542, 43.772, -19.9544, 148.172, 49.489, -16.1266, 157.204, 48.6322, -11.8778, 151.511, 44.6288, -24.2033, 139.138, 50.346, -20.3769, 148.172, 49.489, -16.1266, 142.476, 45.4858, -28.4536, 130.103, 51.2031, -24.6273, 139.138, 50.346, -20.3769 )

[sub_resource type="SphereShape" id=2]
radius = 238.051

[node name="Root" type="Spatial"]
script = ExtResource( 1 )

[node name="Portal" parent="." instance=ExtResource( 2 )]
transform = Transform( 0.861182, -0.258743, 0.437514, -7.52487e-008, -0.860744, -0.509037, 0.508297, 0.438374, -0.741257, 137.246, 48.3937, -26.1385 )

[node name="Player" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.38525, 0 )
planet_path = NodePath("../Path")
front_camera_path = NodePath("../Camera")

[node name="Path" type="StaticBody" parent="."]
script = ExtResource( 4 )

[node name="GravitySurface" type="Spatial" parent="Path"]
script = ExtResource( 5 )
mesh = ExtResource( 6 )

[node name="PathMesh" type="MeshInstance" parent="Path"]
mesh = ExtResource( 7 )
material/0 = ExtResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="Path"]
shape = SubResource( 1 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.586144, -0.735171, -0.340527, 0.733976, 0.303836, 0.607424, -0.343097, -0.605976, 0.717689, 36.6716, 20.1852, 17.2376 )
light_energy = 3.0

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 121.8, 53.05, 111.59 )
fov = 74.1
far = 1000.0

[node name="Area" type="Area" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 121, 0, 0 )
shape = SubResource( 2 )

[connection signal="body_entered" from="Portal" to="." method="_on_Portal_body_entered"]
[connection signal="body_exited" from="Area" to="." method="_on_player_die"]
